<!DOCTYPE html>
<html layout:decorate="~{layout}">
<div layout:fragment="content">
  <link rel="stylesheet" type="text/css" th:href="@{/css/login.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/delete.css}">
  <header th:replace="~{header :: headerFragment}"></header>
  <main>
    <div class="mt-3 bread">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a th:href="@{/index}">ホーム</a></li>
          <li class="breadcrumb-item"><a th:href="@{/mypage}">マイページ</a></li>
          <li class="breadcrumb-item active" aria-current="page">会員脱退</li>
        </ol>
      </nav>
    </div>
    <div class="container-fluid">
      <div class="row justify-content-center text-center">
        <div class="row p-3"></div>

        <div class="col-md-4">
          <h1><i class="fa-solid fa-user"></i>会員退会</h1>
          <form th:action="@{/delete}" id="deleteForm" method="post" autocomplete="on">
            <p>登録情報の入力してくだたい。</p>
            <div class="form-group p-3">
              <input type="text" class="form-control m-3" name="username" placeholder="IDを入力" />
              <input type="password" class="form-control m-3" name="password" placeholder="パスワード" autocomplete="off"/>
              <button type="submit" class="btn btn-danger" onclick="">退会を完了する</button>
            </div>
            <a th:href="@{/mypage}">マイページに戻る</a>
          </form>
        </div>
      </div>
    </div>
  </main>
  <footer th:replace="~{footer :: footerFragment}"></footer>
</div>
<script type="text/javascript" src="js/delete.js"></script>
<script type="text/javascript" th:src="@{/js/common.js}"></script>
<script layout:fragment="script" type="text/javascript">

document.getElementById('deleteForm').addEventListener('submit', function (evt) {
  evt.preventDefault();
  if(confirm('本当に会員退会しますか？退会後、戻すことが出来ません。')) {
        this.submit();
        alert("会員退会しました!");
    }
});


</script>

</html>