<!DOCTYPE html>
<html layout:decorate="~{layout}">
<div layout:fragment="content">
  <link rel="stylesheet" type="text/css" th:href="@{/css/login.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/delete.css}">
  <header th:replace="~{header :: headerFragment}"></header>
  <main>
    <div class="container-fluid">
      <div class="row justify-content-center text-center">
        <div class="row p-3"></div>
        <div class="col-md-2">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a th:href="@{/index}">ホーム</a></li>
              <li class="breadcrumb-item"><a th:href="@{/mypage}">マイページ</a></li>
              <li class="breadcrumb-item active" aria-current="page">会員脱退</li>
            </ol>
          </nav>
        </div>
        <div class="col-md-4">
          <h1><i class="fa-solid fa-user"></i>会員退会</h1>
          <form th:action="@{/delete}" method="post" autocomplete="off">
            <p>登録情報の入力してくだたい。</p>
            <div class="form-group p-3">
              <input type="text" class="form-control m-3" name="username" placeholder="IDを入力" autocomplete="off"/>
              <input type="password" class="form-control m-3" name="password" placeholder="パスワード" autocomplete="off"/>
              <div id="customAlert" class="custom-alert">
                <div class="custom-alert-content text-center">
                  <p>本当に削除しますか？削除後、戻すことが出来ません。</p>
                  <button id="confirmButton" type="button">削除</button>
                  <button id="cancelButton" type="button">取消</button>
                </div>
              </div>
              <button type="submit" class="btn btn-danger" onclick="">退会を完了する</button>
            </div>
            <a th:href="@{/mypage}">マイページに戻る</a>
          </form>
        </div>
        <div class="col-md-2"></div>
      </div>
    </div>
  </main>
  <footer th:replace="~{footer :: footerFragment}"></footer>
</div>
<script type="text/javascript" src="js/delete.js"></script>
<script type="text/javascript" th:src="@{/js/common.js}"></script>
<script layout:fragment="script" type="text/javascript">

document.querySelector('form').addEventListener('submit', function (evt) {
  evt.preventDefault();
  openAlert();

  document.getElementById('confirmButton').addEventListener('click', function() {

    this.submit();
    closeAlert();
  });

  document.getElementById('cancelButton').addEventListener('click', function() {
    closeAlert();
    return false;
  });
})


  function openAlert() {
  $('#customAlert').modal('show');
  }
<!--  function openAlert() {-->
<!--  document.getElementById('customAlert').style.display = 'block';-->
<!--}-->

function closeAlert() {
  document.getElementById('customAlert').style.display = 'none';
}

</script>

</html>